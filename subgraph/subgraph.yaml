specVersion: 0.0.2
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: DappRegistry
    network: mainnet
    source:
      address: "0xB5ecC8ab46e2E20573C2e57C865F7c97f58c2798"
      abi: DappRegistry
      startBlock: 12231000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Registry
        - Timelock
        - Dapp
      abis:
        - name: DappRegistry
          file: ./abis/DappRegistry.json
      eventHandlers:
        - event: DappAdded(indexed uint8,address,address,uint256)
          handler: handleDappAdded
        - event: DappRemoved(indexed uint8,address)
          handler: handleDappRemoved
        - event: FilterUpdateRequested(indexed uint8,address,address,uint256)
          handler: handleFilterUpdateRequested
        - event: FilterUpdated(indexed uint8,address,address,uint256)
          handler: handleFilterUpdated
        - event: OwnerChanged(uint8,address)
          handler: handleOwnerChanged
        - event: RegistryCreated(uint8,address)
          handler: handleRegistryCreated
        - event: TimelockChangeRequested(uint64)
          handler: handleTimelockChangeRequested
        - event: TimelockChanged(uint64)
          handler: handleTimelockChanged
      file: ./src/mapping.ts
